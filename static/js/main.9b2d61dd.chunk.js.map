{"version":3,"sources":["images/logo.svg","components/Header.js","images/avatar.jpg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/OpenImagePopup.js","utils/Api.js","components/FormWithPopup.js","components/HandlerSubmit.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/DeleteWithPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","alt","src","logo","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","aria-label","name","type","onClick","onCardDelete","link","onCardClick","onCardLike","length","Main","onEditAvatar","srcSet","avatar","onEditProfile","about","onAddPlace","cards","map","Footer","OpenImagePopup","onClose","api","config","this","url","headers","res","ok","json","Promise","reject","Error","status","fetch","then","_getResponseData","method","data","body","JSON","stringify","cardID","cardId","authorization","ModalWithForm","isOpen","title","onSubmit","action","noValidate","children","HandlerSubmit","button","EditAvatarPopup","changeAvatar","useRef","isClose","e","preventDefault","onUpdateAvatar","current","value","ref","id","placeholder","required","isLoading","EditProfilePopup","useState","setName","description","setDescription","useEffect","onUpdateUser","onChange","event","target","maxLength","minLength","DeleteWithPopup","onDelete","AddPlacePopup","setNameCard","setLinkCard","postNewCard","evt","autoComplete","App","setIsLoading","isEditProfilePopupOpen","setEditProfile","isEditAvatarPopupOpen","setEditAvatar","isAddPlacePopupOpen","setAddCard","deletedCard","setDeletedCard","isPopupWithDeleteOpen","setPopupWithDelete","selectedCard","setSelectedCard","isPopupImageOpen","setPopupImage","setCurrentUser","setCards","closeAllPopups","handlerEscClose","key","closeByOverlay","classList","contains","document","addEventListener","removeEventListener","all","getInitialCards","getUserInfo","userData","catch","err","console","log","Provider","dislikeCard","newCard","newCards","c","error","likeCard","item","setUserAvatar","finally","items","setUserInfo","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9b2d61dd.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import React from \"react\";\nimport logo from \"../images/logo.svg\";\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img alt=\"Логотип «Mesto Russia»\" className=\"header__logo\" src={logo} />\n    </header>\n  );\n}\n\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/avatar.bbe7c5b6.jpg\";","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = props.card.owner._id === currentUser._id;\n\n  const cardDeleteButtonClassName = `element__delete ${\n    isOwn ? \"\" : \"element__delete_invisible\"\n  }`;\n\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\n\n  const cardLikeButtonClassName = `element__heart ${\n    isLiked ? \"element__heart_active\" : \"\"\n  }`;\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleCardDelete() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <li className=\"element\">\n      <button\n        aria-label=\"Удалить\"\n        className={cardDeleteButtonClassName}\n        name=\"Удалить\"\n        type=\"submit\"\n        onClick={handleCardDelete}\n      />\n      <img\n        src={props.card.link}\n        alt={props.card.name}\n        className=\"element__image\"\n        onClick={handleClick}\n      />\n      <div className=\"element__container\">\n        <h2 className=\"element__title\">{props.card.name}</h2>\n        <div className=\"element__container_like\">\n          <button\n            aria-label=\"Лайк\"\n            className={cardLikeButtonClassName}\n            name=\"Лайк\"\n            type=\"submit\"\n            onClick={handleLikeClick}\n          />\n          <p className=\"card__count-likes\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport avatar from \"../images/avatar.jpg\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <button\n          className=\"button profile__edit-avatar\"\n          type=\"button\"\n          onClick={props.onEditAvatar}\n        >\n          <img\n            alt=\"жак-ив\"\n            className=\"profile__avatar\"\n            srcSet={currentUser.avatar}\n            src={avatar}\n          />\n        </button>\n        <div className=\"profile__info\">\n          <div className=\"profile__wrapper\">\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\n            <button\n              aria-label=\"Редактировать профиль\"\n              className=\"profile__edit-button\"\n              type=\"button\"\n              onClick={props.onEditProfile}\n            />\n          </div>\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\n        </div>\n        <button\n          aria-label=\"Добавить карточку\"\n          className=\"profile__add-button\"\n          type=\"button\"\n          onClick={props.onAddPlace}\n        />\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"elements__container\">\n          {props.cards.map((card) => (\n            <Card\n              key={card._id}\n              card={card}\n              onCardClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from 'react'\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer\n","import React from \"react\";\n\nfunction OpenImagePopup({ card, onClose }) {\n  return (\n    <div className={`popup popup_card-image ${card && \"popup_opened\"}`}>\n      <div className=\"popup__gallery\">\n        <img\n          src={card && card.link}\n          alt={card && card.name}\n          className=\"popup__image\"\n        />\n        <h2 className=\"popup__card-about\">{card && card.name}</h2>\n        <button\n          aria-label=\"Закрыть\"\n          className=\"popup__close-icon\"\n          type=\"button\"\n          onClick={onClose}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default OpenImagePopup;\n","export default class Api {\n  constructor(config) {\n    this.url = config.url;\n    this.headers = config.headers;\n  }\n\n  _getResponseData(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error(`Ошибка: ${res.status}`));\n  }\n\n  getInitialCards() {\n    return fetch(`${this.url}/cards`, {\n      headers: this.headers,\n    }).then((res) => this._getResponseData(res));\n  }\n\n  getUserInfo() {\n    return fetch(`${this.url}/users/me`, {\n      method: \"GET\",\n      headers: this.headers,\n    }).then((res) => this._getResponseData(res));\n  }\n\n  postNewCard(data) {\n    return fetch(`${this.url}/cards`, {\n      method: \"POST\",\n      headers: this.headers,\n      body: JSON.stringify(data),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  setUserInfo(data) {\n    return fetch(`${this.url}/users/me`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      }),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  setUserAvatar(data) {\n    return fetch(`${this.url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: data.avatar,\n      }),\n    }).then((res) => {\n      return this._getResponseData(res);\n    });\n  }\n\n  deleteCard(cardID) {\n    return fetch(`${this.url}/cards/${cardID}`, {\n      method: \"DELETE\",\n      headers: this.headers,\n    }).then((res) => {\n      return this._getResponseData(res);\n    });\n  }\n\n  likeCard(cardId) {\n    return fetch(`${this.url}/cards/likes/${cardId}`, {\n      method: \"PUT\",\n      headers: this.headers,\n    }).then((res) => {\n      return this._getResponseData(res);\n    });\n  }\n\n  dislikeCard(cardId) {\n    return fetch(`${this.url}/cards/likes/${cardId}`, {\n      method: \"DELETE\",\n      headers: this.headers,\n    }).then((res) => {\n      return this._getResponseData(res);\n    });\n  }\n}\n\nexport const api = new Api({\n  url: \"https://mesto.nomoreparties.co/v1/cohort-16\",\n  headers: {\n    authorization: \"4a48037a-5d1b-4b03-8646-b4d3a5383564\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n","import React from \"react\";\n\nfunction ModalWithForm(props) {\n  return (\n    <div\n      className={`popup popup__${props.name} ${\n        props.isOpen ? \"popup_opened\" : \"\"\n      }`}\n    >\n      <div className=\"popup__container\">\n        <button\n          aria-label=\"Закрыть\"\n          className=\"popup__close-icon popup__close\"\n          type=\"button\"\n          onClick={props.onClose}\n        />\n        <h2 className=\"popup__title\">{props.title}</h2>\n        <form\n          className=\"popup__fields popup__form-avatar\"\n          name={`${props.name}`}\n          onSubmit={props.onSubmit}\n          action=\"#\"\n          noValidate\n        >\n          {props.children}\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default ModalWithForm;\n","import React from \"react\";\n\nfunction HandlerSubmit(props) {\n  return (\n    <button type=\"submit\" className={`popup__button`}>\n      {props.onClick ? \"Сохранение...\" : props.button}\n    </button>\n  );\n}\n\nexport default HandlerSubmit;\n","import React from 'react'\nimport PopupWithForm from './FormWithPopup'\nimport HandlerSubmit from './HandlerSubmit'\n\nfunction EditAvatarPopup(props) {\n  const changeAvatar = React.useRef('')\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    props.onUpdateAvatar({\n      avatar: changeAvatar.current.value,\n    })\n  }\n\n  return (\n    <PopupWithForm\n      name=\"avatar\"\n      title=\"Обновить аватар\"\n      isOpen={props.isOpen}\n      onClose={props.isClose}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"popup__label\">\n        <input\n          className=\"popup__item popup__input_avatar-link\"\n          ref={changeAvatar}\n          id=\"link-avatar\"\n          name=\"avatar\"\n          placeholder=\"Ссылка на картинку\"\n          required\n          type=\"url\"\n        />\n        <span className=\"popup__input-error\" id=\"link-avatar-error\" />\n      </label>\n\n      <HandlerSubmit button=\"Сохранить\" onClick={props.isLoading} />\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup\n","import React from 'react'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\nimport PopupWithForm from './FormWithPopup'\nimport HandlerSubmit from './HandlerSubmit'\n\nfunction EditProfilePopup(props) {\n  const [name, setName] = React.useState('')\n  const [description, setDescription] = React.useState('')\n\n  const currentUser = React.useContext(CurrentUserContext)\n\n  React.useEffect(() => {\n    setName(currentUser.name)\n    setDescription(currentUser.about)\n  }, [currentUser])\n\n  function handleChangeName(event) {\n    setName(event.target.value)\n  }\n\n  function handleChangeDescription(event) {\n    setDescription(event.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    props.onUpdateUser({\n      name: name,\n      about: description,\n    })\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit\"\n      title=\"Редактировать профиль\"\n      isOpen={props.isOpen}\n      onClose={props.isClose}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"popup__label\">\n        <input\n          value={name || ''}\n          onChange={handleChangeName}\n          className=\"popup__item popup__name\"\n          id=\"name-input\"\n          maxLength=\"40\"\n          minLength=\"2\"\n          name=\"name\"\n          placeholder=\"Имя\"\n          required\n          type=\"text\"\n        />\n        <span className=\"popup__input-error\" id=\"name-input-error\" />\n      </label>\n      <label className=\"popup__label\">\n        <input\n          value={description || ''}\n          onChange={handleChangeDescription}\n          className=\"popup__item popup__about\"\n          id=\"activity-input\"\n          maxLength=\"200\"\n          minLength=\"2\"\n          name=\"about\"\n          placeholder=\"Обо мне\"\n          required\n          type=\"text\"\n        />\n        <span className=\"popup__input-error\" id=\"activity-input-error\" />;\n      </label>\n\n      <HandlerSubmit button=\"Сохранить\" onClick={props.isLoading} />\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup\n","import React from \"react\";\nimport PopupWithForm from \"./FormWithPopup\";\n\nfunction DeleteWithPopup(props) {\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onDelete();\n  }\n\n  return (\n    <PopupWithForm\n      name=\"delete\"\n      title=\"Вы уверены?\"\n      isOpen={props.isOpen}\n      onClose={props.isClose}\n      onSubmit={handleSubmit}\n    >\n      <button\n        aria-label=\"Да\"\n        className=\"popup__button popup__button_card-delete\"\n        name=\"submit\"\n        type=\"submit\"\n      >\n        {props.isLoading ? \"Удаление...\" : \"Да\"}\n      </button>\n    </PopupWithForm>\n  );\n}\n\nexport default DeleteWithPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./FormWithPopup\";\nimport HandlerSubmit from \"./HandlerSubmit\";\n\nfunction AddPlacePopup(props) {\n  const [name, setNameCard] = React.useState(\"\");\n  const [link, setLinkCard] = React.useState(\"\");\n\n  function handleSubmitCard(e) {\n    e.preventDefault();\n    props.postNewCard({ name, link });\n  }\n\n  function handleNameCard(evt) {\n    setNameCard(evt.target.value);\n  }\n\n  function handleLinkCard(evt) {\n    setLinkCard(evt.target.value);\n  }\n\n  return (\n    <PopupWithForm\n      name=\"add\"\n      title=\"Новое место\"\n      isOpen={props.isOpen}\n      onClose={props.isClose}\n      onSubmit={handleSubmitCard}\n    >\n      <label className=\"popup__label\">\n        <input\n          value={name || \"\"}\n          onChange={handleNameCard}\n          id=\"title-input\"\n          className=\"popup__item popup__input-name\"\n          type=\"text\"\n          name=\"title\"\n          required\n          placeholder=\"Название\"\n          minLength=\"1\"\n          maxLength=\"30\"\n          autoComplete=\"off\"\n        />\n        <span className=\"popup__input-error\" id=\"place-input-error\" />\n      </label>\n      <label className=\"popup__label\">\n        <input\n          value={link || \"\"}\n          onChange={handleLinkCard}\n          className=\"popup__item popup__input-url\"\n          id=\"link-input\"\n          type=\"url\"\n          name=\"url\"\n          required\n          placeholder=\"Ссылка на картинку\"\n          autoComplete=\"off\"\n        />\n        <span className=\"popup__input-error\" id=\"link-input-error\" />\n      </label>\n      <HandlerSubmit button=\"Создать\" onClick={props.isLoading} />\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport OpenImagePopup from \"./OpenImagePopup\";\nimport { api } from \"../utils/Api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport DeleteWithPopup from \"./DeleteWithPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\n\nfunction App() {\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [isEditProfilePopupOpen, setEditProfile] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatar] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddCard] = React.useState(false);\n  const [deletedCard, setDeletedCard] = React.useState(null);\n  const [isPopupWithDeleteOpen, setPopupWithDelete] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [isPopupImageOpen, setPopupImage] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  function handleEditProfileClick() {\n    setEditProfile(true);\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatar(true);\n  }\n\n  function handleAddCardClick() {\n    setAddCard(true);\n  }\n\n  function handleCardClick(card) {\n    setPopupImage(true);\n    setSelectedCard(card);\n  }\n\n  function handleDeleteClick(card) {\n    setPopupWithDelete(true);\n    setDeletedCard(card);\n  }\n\n  function closeAllPopups() {\n    setEditProfile(false);\n    setEditAvatar(false);\n    setAddCard(false);\n    setPopupImage(false);\n    setPopupWithDelete(false);\n    setSelectedCard(null);\n    setDeletedCard(null);\n  }\n\n  function handlerEscClose(evt) {\n    if (evt.key === \"Escape\") {\n      closeAllPopups();\n    }\n  }\n\n  function closeByOverlay(evt) {\n    if (evt.target.classList.contains(\"popup\")) {\n      closeAllPopups();\n    }\n  }\n\n  React.useEffect(() => {\n    document.addEventListener(\"keydown\", handlerEscClose);\n    document.addEventListener(\"click\", closeByOverlay);\n    return () => {\n      document.removeEventListener(\"keydown\", handlerEscClose);\n      document.removeEventListener(\"click\", closeByOverlay);\n    };\n  });\n\n  React.useEffect(() => {\n    Promise.all([api.getInitialCards(), api.getUserInfo()])\n      .then(([cards, userData]) => {\n        setCurrentUser(userData);\n        setCards(cards);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    if (!isLiked) {\n      api\n        .likeCard(card._id)\n        .then((newCard) => {\n          const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n          setCards(newCards);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    } else {\n      api\n        .dislikeCard(card._id)\n        .then((newCard) => {\n          const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n          setCards(newCards);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  }\n\n  function handleCardDelete() {\n    setIsLoading(true);\n    api\n      .deleteCard(deletedCard._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== deletedCard._id);\n        setCards(newCards);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleUpdateUser(items) {\n    setIsLoading(true);\n    api\n      .setUserInfo(items)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleUpdateAvatar(item) {\n    setIsLoading(true);\n    api\n      .setUserAvatar(item)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleAddPlaceSubmit(newCard) {\n    setIsLoading(true);\n    api\n      .postNewCard(newCard)\n      .then((newCard) => setCards([newCard, ...cards]))\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoading(false);\n        closeAllPopups();\n      });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <Main\n          cards={cards}\n          onEditAvatar={handleEditAvatarClick}\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddCardClick}\n          onCardClick={handleCardClick}\n          onCardLike={handleCardLike}\n          onCardDelete={handleDeleteClick}\n        />\n        <Footer />\n\n        {/* Попат обновления аватара */}\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          isClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoading={isLoading}\n        />\n\n        {/* Попат редактирования профиля */}\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          isClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          isLoading={isLoading}\n        />\n\n        {/* Попат добавления карточки */}\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          isClose={closeAllPopups}\n          postNewCard={handleAddPlaceSubmit}\n          isLoading={isLoading}\n        />\n\n        {/* Попат подтверждения */}\n        <DeleteWithPopup\n          isOpen={isPopupWithDeleteOpen}\n          isClose={closeAllPopups}\n          onDelete={handleCardDelete}\n          card={deletedCard}\n          isLoading={isLoading}\n        />\n\n        {/* Попат увеличения картинки */}\n        <OpenImagePopup\n          isOpen={isPopupImageOpen}\n          onClose={closeAllPopups}\n          card={selectedCard}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}